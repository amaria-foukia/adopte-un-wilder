{% extends 'base.html.twig' %}

{% block title %}Connectez-vous !{% endblock %}

{% block body %}

    {% if error %}
        <div class="alert alert-danger">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    <section class="w-50 mx-auto" style="min-height: 500px">

        <form action="{{ path('login') }}" method="post">
            {% if app.user %}
                <div class="mb-3">
                    You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>
                </div>
            {% endif %}

            <h1 class="h3 my-5 font-weight-normal text-center">Connectez-vous Ã  votre espace !</h1>

            <label for="username" class="form-label my-2">Email:</label>
            <input class="form-control" type="text" id="username" name="_username" value="{{ last_username }}"/>

            <label for="password" class="form-label my-2">Password:</label>
            <input class="form-control" type="password" id="password" name="_password"/>

            {# If you want to control the URL the user is redirected to on success
            <input type="hidden" name="_target_path" value="/account"/> #}

            <button class="btn btn-primary mt-2" type="submit">Connexion</button>

        </form>

        <a href="{{ path('register') }}"><p class="text-center mt-4">Pas encore inscrit.e ?<b> Inscrivez-vous !</b></p></a>

    </section>

{% endblock %}
